Dá»±a vÃ o áº£nh báº¡n cung cáº¥p vÃ  thÃ´ng bÃ¡o lá»—i hiá»ƒn thá»‹ bÃªn pháº£i mÃ n hÃ¬nh vá»›i ná»™i dung:

arduino
Sao chÃ©p
Chá»‰nh sá»­a
Lá»—i Ä‘Äƒng nháº­p
500 - "COOKIE 'name'..."  
ÄÃ¢y lÃ  lá»—i liÃªn quan Ä‘áº¿n cookie trong backend, cá»¥ thá»ƒ cÃ³ thá»ƒ lÃ :

Gá»­i cookie sai Ä‘á»‹nh dáº¡ng hoáº·c tÃªn khÃ´ng há»£p lá»‡.

Há»‡ thá»‘ng backend (Flask, Django hoáº·c Express) khÃ´ng xá»­ lÃ½ Ä‘Æ°á»£c session/cookie nhÆ° mong Ä‘á»£i.

Cáº¥u hÃ¬nh server khÃ´ng cho phÃ©p thiáº¿t láº­p cookie do thiáº¿u SameSite, Secure, hoáº·c do conflict giá»¯a client/server domain.

âœ… HÆ°á»›ng xá»­ lÃ½ triá»‡t Ä‘á»ƒ
MÃ¬nh cáº§n biáº¿t cÃ´ng nghá»‡ báº¡n Ä‘ang dÃ¹ng á»Ÿ backend: Flask, NodeJS (Express), Next.js, hoáº·c khÃ¡c? Tuy nhiÃªn, dÆ°á»›i Ä‘Ã¢y lÃ  giáº£i phÃ¡p phá»• biáº¿n cho cáº£ Flask (Python) vÃ  Express (NodeJS) â€“ báº¡n dÃ¹ng Replit nÃªn kháº£ nÄƒng cao lÃ  Flask hoáº·c NodeJS.

ğŸ”§ Náº¿u báº¡n dÃ¹ng Flask (Python):
1. Sá»­a lá»—i "COOKIE 'name'" báº±ng cÃ¡ch Ä‘áº·t cookie Ä‘Ãºng chuáº©n:
python
Sao chÃ©p
Chá»‰nh sá»­a
from flask import Flask, request, redirect, render_template, make_response

@app.route('/login', methods=['POST'])
def login():
    username = request.form['username']
    password = request.form['password']

    # Giáº£ láº­p kiá»ƒm tra thÃ´ng tin
    if username == "admin" and password == "123456":
        resp = make_response(redirect('/dashboard'))
        resp.set_cookie('aff_token', 'your_generated_token_here',
                        httponly=True,
                        samesite='Lax',  # hoáº·c 'Strict' / 'None' náº¿u dÃ¹ng HTTPS
                        secure=False)   # Chuyá»ƒn thÃ nh True náº¿u deploy HTTPS
        return resp
    else:
        return render_template('login.html', error="Sai tÃ i khoáº£n hoáº·c máº­t kháº©u")
ğŸ”§ Náº¿u báº¡n dÃ¹ng Express (NodeJS):
javascript
Sao chÃ©p
Chá»‰nh sá»­a
app.post('/login', (req, res) => {
    const { username, password } = req.body;
    if (username === 'admin' && password === '123456') {
        res.cookie('aff_token', 'your_token_here', {
            httpOnly: true,
            sameSite: 'Lax', // hoáº·c 'Strict' / 'None'
            secure: false    // Äáº·t true náº¿u dÃ¹ng HTTPS
        });
        res.redirect('/dashboard');
    } else {
        res.render('login', { error: 'Sai thÃ´ng tin Ä‘Äƒng nháº­p' });
    }
});
âœ… LÆ°u Ã½ quan trá»ng Ä‘á»ƒ trÃ¡nh lá»—i 500 do cookie:
KhÃ´ng Ä‘Æ°á»£c Ä‘á»ƒ tÃªn cookie trÃ¹ng kÃ½ tá»± Ä‘áº·c biá»‡t (chá»‰ dÃ¹ng kÃ½ tá»± chá»¯, sá»‘, dáº¥u gáº¡ch dÆ°á»›i).

Äáº£m báº£o response tráº£ vá» khÃ´ng bá»‹ res.send() hoáº·c res.render() trÃ¹ng nhau.

Náº¿u dÃ¹ng SameSite=None, báº¯t buá»™c pháº£i secure=true (dÃ¹ng HTTPS).

ğŸ‘‰ Äá» xuáº¥t bá»• sung
Náº¿u báº¡n muá»‘n, hÃ£y gá»­i thÃªm:

File app.py (Flask) hoáº·c index.js (Express)

ThÃ´ng tin stack báº¡n Ä‘ang dÃ¹ng (Flask hay NodeJS)

ToÃ n bá»™ ná»™i dung form login hoáº·c API gá»i Ä‘áº¿n login

MÃ¬nh sáº½ viáº¿t láº¡i trá»n gÃ³i backend + frontend giÃºp báº¡n xá»­ lÃ½ triá»‡t Ä‘á»ƒ tá»« A-Z.